/*
*
* Author Karo Hakobyan
*
*/

"use strict";!function(e){e.fn.infiniteSlider=function(t){var a=e.extend({autoPlaySpeed:!1,btnsText:{next:"",prev:"",pause:"",play:""},hoverPause:!1,navigation:!1,responsive:!1,speed:"normal",swipe:!1,width:"100%"},t);return this.each(function(t,n){if(e(".slider-box",e(n)).size()>1){var i={};i.wrapper=e(n).width(a.width),i.current=1,i.timer=!1,i.content=e('<div class="slider-content" style="overflow: hidden;"></div>'),i.engine=e('<div class="slider-engine"></div>'),i.next=e('<span class="slider-btns slider-next">'+a.btnsText.next+"</span>"),i.prev=e('<span class="slider-btns slider-prev">'+a.btnsText.prev+"</span>"),i.autoPlay=e('<span class="slider-play-toggle" data-pause="'+a.btnsText.pause+'" data-play="'+a.btnsText.play+'">'+a.btnsText.pause+"</span>"),i.navList=e('<ul class="slider-nav"></ul>'),i.first=e(".slider-box",i.wrapper).first().clone().width(i.wrapper.width()),i.last=e(".slider-box",i.wrapper).last().clone().width(i.wrapper.width()),i.engine.append(e(".slider-box",i.wrapper).width(i.wrapper.width()),i.first).prepend(i.last),i.content.append(i.engine),i.wrapper.append(i.content,i.prev,i.next),i.count=e(".slider-box",i.wrapper).size(),i.engine.css({marginLeft:"-"+i.wrapper.width()+"px",width:i.wrapper.width()*i.count+"px"}),i.engineAnimate=function(t,n){a.navigation&&(e(".slider-nav-items.active",i.wrapper).removeClass("active"),e(".slider-nav-items",i.wrapper).eq(n-1).addClass("active")),"first"==t?i.engine.stop(!1,!0).animate({marginLeft:"-="+i.wrapper.width()+"px"},a.speed,function(){i.engine.css("margin-left","-"+i.wrapper.width()+"px")}):"last"==t?i.engine.stop(!1,!0).animate({marginLeft:"0px"},a.speed,function(){i.engine.css("margin-left","-"+i.wrapper.width()*(i.count-2)+"px")}):i.engine.stop(!1,!0).animate({marginLeft:t+"px"},a.speed)},a.navigation&&(e(".slider-box",i.wrapper).each(function(t){t!=i.count-1&&t!=i.count-2&&i.navList.append(e("<li class='slider-nav-items"+(0==t?" active":"")+"' data-index='"+(t+1)+"'>"+(t+1)+"</li>"))}),i.wrapper.append(i.navList),e(".slider-nav-items",i.wrapper).click(function(){var t=e(this).data("index");t!=i.current&&i.engineAnimate("-"+i.wrapper.width()*t,i.current=t)})),a.autoPlaySpeed&&(i.interval=function(e){i.timer=setInterval(function(){i.current<i.count-2?i.engineAnimate("-="+i.wrapper.width(),++i.current):i.engineAnimate("first",i.current=1)},e)},e(i.next,i.wrapper).after(i.autoPlay),i.interval(a.autoPlaySpeed),i.autoPlay.click(function(){i.autoPlay.hasClass("pause")?(i.autoPlay.removeClass("pause").text(i.autoPlay.data("pause")),i.interval(a.autoPlaySpeed)):(i.autoPlay.addClass("pause").text(i.autoPlay.data("play")),clearInterval(i.timer))}),a.hoverPause&&e(".slider-box, .slider-btns, .slider-nav",i.wrapper).hover(function(){i.autoPlay.hasClass("pause")||(i.autoPlay.addClass("stop").text(i.autoPlay.data("play")),clearInterval(i.timer))},function(){i.autoPlay.hasClass("pause")||(i.autoPlay.removeClass("stop").text(i.autoPlay.data("pause")),i.interval(a.autoPlaySpeed))})),a.responsive&&e(window).resize(function(){var t=e(this).width()+"px";i.wrapper.width(t),i.engine.stop(!1,!0).css({marginLeft:"-"+t*i.current,width:t*i.count}),e(".slider-box",i.wrapper).width(t)}),i.next.click(function(){i.current<i.count-2?i.engineAnimate("-="+i.wrapper.width(),++i.current):i.engineAnimate("first",i.current=1)}),i.prev.click(function(){i.current>1?i.engineAnimate("+="+i.wrapper.width(),--i.current):i.engineAnimate("last",i.current=i.count-2)}),a.swipe&&i.engine.swipe({swipe:function(e,t){"left"==t?i.next.click():"right"==t?i.prev.click():null},threshold:0,fingers:"all"})}})}}(jQuery);